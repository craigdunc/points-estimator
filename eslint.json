[{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\App.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'getStepIndex' is assigned a value but never used. Allowed unused vars must match /^[A-Z_]/u.","line":22,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":19,"suggestions":[{"messageId":"removeVar","data":{"varName":"getStepIndex"},"fix":{"range":[701,781],"text":""},"desc":"Remove unused variable 'getStepIndex'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/App.jsx\nimport React, { useState } from 'react';\nimport SlotSelect from './screens/SlotSelect';\nimport Intro1 from './screens/Intro1';\nimport Intro2 from './screens/Intro2';\nimport WTESelection from './screens/WTESelection';\nimport RewardsScreen from './screens/RewardsScreen'; // Import the new screen\nimport Dashboard from './screens/Dashboard';\nimport MonthChange from './components/MonthChange'; // Assuming this acts like a screen\n\nconst steps = [\n  SlotSelect,    // 0\n  Intro1,        // 1\n  Intro2,        // 2\n  WTESelection,  // 3\n  RewardsScreen, // 4 <-- New Screen\n  Dashboard,     // 5\n  MonthChange,   // 6\n];\n\n// Simple helper to get the index of a component in the steps array\nconst getStepIndex = (Component) => steps.findIndex(step => step === Component);\n\nexport default function App() {\n  const [stepIndex, setStepIndex] = useState(1);\n  const Screen = steps[stepIndex];\n\n  // New navigation function: goes directly to a specific step index\n  const goTo = (targetIndex) => {\n    if (targetIndex >= 0 && targetIndex < steps.length) {\n      setStepIndex(targetIndex);\n    } else {\n      console.warn(`Attempted to navigate to invalid step index: ${targetIndex}`);\n    }\n  };\n\n  // Pass the current index and the goTo function to the current screen\n  return <Screen currentStepIndex={stepIndex} goTo={goTo} />;\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\CategoryTabs.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\CitySelectionModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\ConnectedRewardCard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\DebugState.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\FlightMap.jsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":13,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":13,"endColumn":24},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":18,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":18,"endColumn":23},{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":24,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":24,"endColumn":23},{"ruleId":"no-unused-vars","severity":2,"message":"'baseDotSize' is defined but never used.","line":39,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":39,"endColumn":14,"suggestions":[{"messageId":"removeVar","data":{"varName":"baseDotSize"},"fix":{"range":[1098,1114],"text":""},"desc":"Remove unused variable 'baseDotSize'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/components/FlightMap.jsx\r\nimport React, { useMemo } from 'react';\r\nimport styles from './FlightMap.module.css';\r\nimport worldMapSvg from '../assets/images/world.svg';\r\n\r\n// ——— Map constants ———\r\nexport const BASE_MAP_WIDTH  = 800;\r\nexport const BASE_MAP_HEIGHT = 600;\r\nconst PACIFIC_CENTER_OFFSET = -160;\r\n// wrap any longitude below this pivot by +360°\r\nconst LON_WRAP_THRESHOLD = -20;\r\n\r\nexport function wrapLon(lon) {\r\n  return lon < LON_WRAP_THRESHOLD ? lon + 360 : lon;\r\n}\r\n\r\n// ——— Mercator projection helpers ———\r\nexport function lonToX(lon) {\r\n  let adj = lon + PACIFIC_CENTER_OFFSET;\r\n  adj = ((adj + 180) % 360) - 180;\r\n  return (adj + 180) * (BASE_MAP_WIDTH / 360);\r\n}\r\n\r\nexport function latToY(lat) {\r\n  const c   = Math.max(Math.min(lat, 85), -85);\r\n  const rad = (c * Math.PI) / 180;\r\n  const m   = Math.log(Math.tan(Math.PI / 4 + rad / 2));\r\n  return BASE_MAP_HEIGHT / 2 - (BASE_MAP_WIDTH * m) / (2 * Math.PI);\r\n}\r\n\r\n// ——— FlightMap component ———\r\nexport default function FlightMap({\r\n  flights,\r\n  origin,\r\n  selectedFlightId,\r\n  affordableIds,\r\n  viewBox,\r\n  onFlightClick,\r\n  baseDotSize\r\n}) {\r\n  // compute positions (apply wrapLon to shift points < threshold)\r\n  const originPos = useMemo(\r\n    () => ({\r\n      x: lonToX(wrapLon(origin.lon)),\r\n      y: latToY(origin.lat)\r\n    }),\r\n    [origin]\r\n  );\r\n\r\n  const destPos = useMemo(() => {\r\n    const m = {};\r\n    flights.forEach(f => {\r\n      const lon = wrapLon(f.lon);\r\n      m[f.id] = { x: lonToX(lon), y: latToY(f.lat) };\r\n    });\r\n    return m;\r\n  }, [flights]);\r\n\r\n  // affordability halo\r\n  const haloR = useMemo(() => {\r\n    let maxSq = 0;\r\n    affordableIds.forEach(id => {\r\n      const p = destPos[id];\r\n      if (!p) return;\r\n      const dx = p.x - originPos.x, dy = p.y - originPos.y;\r\n      maxSq = Math.max(maxSq, dx * dx + dy * dy);\r\n    });\r\n    return maxSq ? Math.sqrt(maxSq) + 8 : 0;\r\n  }, [affordableIds, destPos, originPos]);\r\n\r\n  // dot sizes\r\n  const R_RED      = 5;\r\n  const R_SELECTED = 6;\r\n  const R_ORIGIN   = 4;\r\n\r\n  return (\r\n    <div className=\"relative w-full h-64\">\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n        width=\"100%\"\r\n        height=\"100%\"\r\n        viewBox={`${viewBox.minX} ${viewBox.minY} ${viewBox.width} ${viewBox.height}`}\r\n        preserveAspectRatio=\"xMidYMid meet\"\r\n      >\r\n {/* grey background */}\r\n       <rect\r\n          x={-300}\r\n          y={-300}\r\n          width=\"500%\"\r\n          height=\"700%\"\r\n          fill=\"#f2f2f2\"\r\n          pointerEvents=\"none\"\r\n        />\r\n\r\n        {/* affordability halo */}\r\n        {haloR > 0 && (\r\n          <circle\r\n            cx={originPos.x}\r\n            cy={originPos.y}\r\n            r={haloR}\r\n            className={styles.affordabilityCircle}\r\n          />\r\n        )}\r\n\r\n        {/* origin dot */}\r\n        <circle\r\n          cx={originPos.x}\r\n          cy={originPos.y}\r\n          r={R_ORIGIN}\r\n          className={styles.originDot}\r\n        />\r\n\r\n        {/* destination dots */}\r\n        {flights.map(f => {\r\n          const p = destPos[f.id];\r\n          if (!p) return null;\r\n          const isAff = affordableIds.includes(f.id);\r\n          const isSel = f.id === selectedFlightId;\r\n\r\n          if (isSel) {\r\n            return (\r\n              <circle\r\n                key={f.id}\r\n                cx={p.x}\r\n                cy={p.y}\r\n                r={R_SELECTED}\r\n                className={styles.dotSelected}\r\n                onClick={() => onFlightClick?.(f.id)}\r\n              />\r\n            );\r\n          }\r\n          if (isAff) {\r\n            return (\r\n              <circle\r\n                key={f.id}\r\n                cx={p.x}\r\n                cy={p.y}\r\n                r={R_RED}\r\n                className={styles.dotAffordable}\r\n                onClick={() => onFlightClick?.(f.id)}\r\n              />\r\n            );\r\n          }\r\n          return (\r\n            <circle\r\n              key={f.id}\r\n              cx={p.x}\r\n              cy={p.y}\r\n              r={R_RED}\r\n              className={styles.dotUnaffordable}\r\n            />\r\n          );\r\n        })}\r\n\r\n        {/* world map image moves with image */}\r\n        <image\r\n          href={worldMapSvg}\r\n          xlinkHref={worldMapSvg}\r\n          pointerEvents=\"none\"\r\n        />\r\n      </svg>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\Footer.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\Header.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\HelpModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\KoalaSprite.jsx","messages":[{"ruleId":null,"nodeType":null,"fatal":true,"severity":2,"message":"Parsing error: Unexpected character '�'","line":1,"column":1}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"��i\u0000m\u0000p\u0000o\u0000r\u0000t\u0000 \u0000R\u0000e\u0000a\u0000c\u0000t\u0000,\u0000 \u0000{\u0000 \u0000u\u0000s\u0000e\u0000S\u0000t\u0000a\u0000t\u0000e\u0000,\u0000 \u0000u\u0000s\u0000e\u0000E\u0000f\u0000f\u0000e\u0000c\u0000t\u0000 \u0000}\u0000 \u0000f\u0000r\u0000o\u0000m\u0000 \u0000'\u0000r\u0000e\u0000a\u0000c\u0000t\u0000'\u0000;\u0000\n\u0000i\u0000m\u0000p\u0000o\u0000r\u0000t\u0000 \u0000K\u0000o\u0000a\u0000l\u0000a\u0000I\u0000m\u0000a\u0000g\u0000e\u0000 \u0000f\u0000r\u0000o\u0000m\u0000 \u0000'\u0000.\u0000.\u0000/\u0000a\u0000s\u0000s\u0000e\u0000t\u0000s\u0000/\u0000i\u0000m\u0000a\u0000g\u0000e\u0000s\u0000/\u0000s\u0000p\u0000r\u0000i\u0000t\u0000e\u0000s\u0000/\u0000K\u0000o\u0000a\u0000l\u0000a\u0000-\u0000i\u0000d\u0000l\u0000e\u0000.\u0000p\u0000n\u0000g\u0000'\u0000;\u0000\n\u0000\n\u0000e\u0000x\u0000p\u0000o\u0000r\u0000t\u0000 \u0000d\u0000e\u0000f\u0000a\u0000u\u0000l\u0000t\u0000 \u0000f\u0000u\u0000n\u0000c\u0000t\u0000i\u0000o\u0000n\u0000 \u0000K\u0000o\u0000a\u0000l\u0000a\u0000S\u0000p\u0000r\u0000i\u0000t\u0000e\u0000(\u0000{\u0000 \u0000c\u0000l\u0000a\u0000s\u0000s\u0000N\u0000a\u0000m\u0000e\u0000 \u0000=\u0000 \u0000'\u0000'\u0000,\u0000 \u0000s\u0000t\u0000y\u0000l\u0000e\u0000 \u0000=\u0000 \u0000{\u0000}\u0000 \u0000}\u0000)\u0000 \u0000{\u0000\n\u0000 \u0000 \u0000c\u0000o\u0000n\u0000s\u0000t\u0000 \u0000[\u0000f\u0000r\u0000a\u0000m\u0000e\u0000,\u0000 \u0000s\u0000e\u0000t\u0000F\u0000r\u0000a\u0000m\u0000e\u0000]\u0000 \u0000=\u0000 \u0000u\u0000s\u0000e\u0000S\u0000t\u0000a\u0000t\u0000e\u0000(\u00000\u0000)\u0000;\u0000\n\u0000\n\u0000 \u0000 \u0000c\u0000o\u0000n\u0000s\u0000t\u0000 \u0000f\u0000r\u0000a\u0000m\u0000e\u0000W\u0000i\u0000d\u0000t\u0000h\u0000 \u0000=\u0000 \u00002\u00001\u00007\u0000;\u0000\n\u0000 \u0000 \u0000c\u0000o\u0000n\u0000s\u0000t\u0000 \u0000f\u0000r\u0000a\u0000m\u0000e\u0000H\u0000e\u0000i\u0000g\u0000h\u0000t\u0000 \u0000=\u0000 \u00002\u00006\u00004\u0000;\u0000\n\u0000 \u0000 \u0000c\u0000o\u0000n\u0000s\u0000t\u0000 \u0000c\u0000o\u0000l\u0000s\u0000 \u0000=\u0000 \u00006\u0000;\u0000\n\u0000 \u0000 \u0000c\u0000o\u0000n\u0000s\u0000t\u0000 \u0000t\u0000o\u0000t\u0000a\u0000l\u0000F\u0000r\u0000a\u0000m\u0000e\u0000s\u0000 \u0000=\u0000 \u00003\u00006\u0000;\u0000\n\u0000\n\u0000 \u0000 \u0000u\u0000s\u0000e\u0000E\u0000f\u0000f\u0000e\u0000c\u0000t\u0000(\u0000(\u0000)\u0000 \u0000=\u0000>\u0000 \u0000{\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000c\u0000o\u0000n\u0000s\u0000t\u0000 \u0000i\u0000n\u0000t\u0000e\u0000r\u0000v\u0000a\u0000l\u0000 \u0000=\u0000 \u0000s\u0000e\u0000t\u0000I\u0000n\u0000t\u0000e\u0000r\u0000v\u0000a\u0000l\u0000(\u0000(\u0000)\u0000 \u0000=\u0000>\u0000 \u0000{\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000s\u0000e\u0000t\u0000F\u0000r\u0000a\u0000m\u0000e\u0000(\u0000(\u0000p\u0000r\u0000e\u0000v\u0000)\u0000 \u0000=\u0000>\u0000 \u0000(\u0000p\u0000r\u0000e\u0000v\u0000 \u0000+\u0000 \u00001\u0000)\u0000 \u0000%\u0000 \u0000t\u0000o\u0000t\u0000a\u0000l\u0000F\u0000r\u0000a\u0000m\u0000e\u0000s\u0000)\u0000;\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000}\u0000,\u0000 \u00001\u00000\u00000\u00000\u0000 \u0000/\u0000 \u00002\u00004\u0000)\u0000;\u0000 \u0000/\u0000/\u0000 \u00002\u00004\u0000 \u0000F\u0000P\u0000S\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000r\u0000e\u0000t\u0000u\u0000r\u0000n\u0000 \u0000(\u0000)\u0000 \u0000=\u0000>\u0000 \u0000c\u0000l\u0000e\u0000a\u0000r\u0000I\u0000n\u0000t\u0000e\u0000r\u0000v\u0000a\u0000l\u0000(\u0000i\u0000n\u0000t\u0000e\u0000r\u0000v\u0000a\u0000l\u0000)\u0000;\u0000\n\u0000 \u0000 \u0000}\u0000,\u0000 \u0000[\u0000]\u0000)\u0000;\u0000\n\u0000\n\u0000 \u0000 \u0000c\u0000o\u0000n\u0000s\u0000t\u0000 \u0000x\u0000 \u0000=\u0000 \u0000(\u0000f\u0000r\u0000a\u0000m\u0000e\u0000 \u0000%\u0000 \u0000c\u0000o\u0000l\u0000s\u0000)\u0000 \u0000*\u0000 \u0000f\u0000r\u0000a\u0000m\u0000e\u0000W\u0000i\u0000d\u0000t\u0000h\u0000;\u0000\n\u0000 \u0000 \u0000c\u0000o\u0000n\u0000s\u0000t\u0000 \u0000y\u0000 \u0000=\u0000 \u0000M\u0000a\u0000t\u0000h\u0000.\u0000f\u0000l\u0000o\u0000o\u0000r\u0000(\u0000f\u0000r\u0000a\u0000m\u0000e\u0000 \u0000/\u0000 \u0000c\u0000o\u0000l\u0000s\u0000)\u0000 \u0000*\u0000 \u0000f\u0000r\u0000a\u0000m\u0000e\u0000H\u0000e\u0000i\u0000g\u0000h\u0000t\u0000;\u0000\n\u0000\n\u0000 \u0000 \u0000r\u0000e\u0000t\u0000u\u0000r\u0000n\u0000 \u0000(\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000<\u0000d\u0000i\u0000v\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000c\u0000l\u0000a\u0000s\u0000s\u0000N\u0000a\u0000m\u0000e\u0000=\u0000{\u0000`\u0000d\u0000i\u0000s\u0000p\u0000l\u0000a\u0000y\u0000-\u0000i\u0000n\u0000l\u0000i\u0000n\u0000e\u0000-\u0000b\u0000l\u0000o\u0000c\u0000k\u0000 \u0000$\u0000{\u0000c\u0000l\u0000a\u0000s\u0000s\u0000N\u0000a\u0000m\u0000e\u0000}\u0000`\u0000}\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000s\u0000t\u0000y\u0000l\u0000e\u0000=\u0000{\u0000{\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000.\u0000.\u0000.\u0000s\u0000t\u0000y\u0000l\u0000e\u0000,\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000w\u0000i\u0000d\u0000t\u0000h\u0000:\u0000 \u0000f\u0000r\u0000a\u0000m\u0000e\u0000W\u0000i\u0000d\u0000t\u0000h\u0000,\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000h\u0000e\u0000i\u0000g\u0000h\u0000t\u0000:\u0000 \u0000f\u0000r\u0000a\u0000m\u0000e\u0000H\u0000e\u0000i\u0000g\u0000h\u0000t\u0000,\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000b\u0000a\u0000c\u0000k\u0000g\u0000r\u0000o\u0000u\u0000n\u0000d\u0000I\u0000m\u0000a\u0000g\u0000e\u0000:\u0000 \u0000`\u0000u\u0000r\u0000l\u0000(\u0000$\u0000{\u0000K\u0000o\u0000a\u0000l\u0000a\u0000I\u0000m\u0000a\u0000g\u0000e\u0000}\u0000)\u0000`\u0000,\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000b\u0000a\u0000c\u0000k\u0000g\u0000r\u0000o\u0000u\u0000n\u0000d\u0000P\u0000o\u0000s\u0000i\u0000t\u0000i\u0000o\u0000n\u0000:\u0000 \u0000`\u0000-\u0000$\u0000{\u0000x\u0000}\u0000p\u0000x\u0000 \u0000-\u0000$\u0000{\u0000y\u0000}\u0000p\u0000x\u0000`\u0000,\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000b\u0000a\u0000c\u0000k\u0000g\u0000r\u0000o\u0000u\u0000n\u0000d\u0000R\u0000e\u0000p\u0000e\u0000a\u0000t\u0000:\u0000 \u0000'\u0000n\u0000o\u0000-\u0000r\u0000e\u0000p\u0000e\u0000a\u0000t\u0000'\u0000,\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000 \u0000 \u0000}\u0000}\u0000\n\u0000 \u0000 \u0000 \u0000 \u0000/\u0000>\u0000\n\u0000 \u0000 \u0000)\u0000;\u0000\n\u0000}\u0000\n\u0000","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\LeafletMap.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\ModalShell.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\MonthChange.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'useEffect' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":2,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":36,"suggestions":[{"messageId":"removeVar","data":{"varName":"useEffect"},"fix":{"range":[59,70],"text":""},"desc":"Remove unused variable 'useEffect'."}]},{"ruleId":"no-unused-vars","severity":2,"message":"'currentStepIndex' is defined but never used.","line":14,"column":45,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":61,"suggestions":[{"messageId":"removeVar","data":{"varName":"currentStepIndex"},"fix":{"range":[567,585],"text":""},"desc":"Remove unused variable 'currentStepIndex'."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/components/MonthChange.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useSaveSlots } from '../state/useSaveSlots';\r\nimport { WTEs } from '../data';\r\n// NOTE: We might need Dashboard reference if dynamically getting index later\r\n// import Dashboard from '../screens/Dashboard';\r\n\r\nconst monthNames = [\r\n  'January','February','March','April','May','June',\r\n  'July','August','September','October','November','December'\r\n];\r\n\r\n// Changed props: accepting goTo and currentStepIndex instead of goBack\r\nexport default function MonthChange({ goTo, currentStepIndex }) {\r\n  const { current, saveState } = useSaveSlots();\r\n\r\n  /* --- Get current slot data --- */\r\n  // Ensure current exists and provide defaults\r\n  const currentSafe = current || {};\r\n  const selectedIds = (currentSafe.selectedWTEs || []).map(x =>\r\n    typeof x === 'object' ? x.id : x\r\n  );\r\n  const targetById  = currentSafe.monthlyTargetByWTE || {};\r\n  const [y, initialM] = (currentSafe.currentMonth || new Date().toISOString().slice(0, 7)).split('-').map(Number);\r\n\r\n  /* --- Local UI state --- */\r\n  const [monthNum,      setMonthNum]      = useState(initialM || 1);\r\n  const [earnedById,    setEarnedById]    = useState({});\r\n  const [hasAdvanced,   setHasAdvanced]   = useState(false);\r\n\r\n  /* --- Derived state for next month --- */\r\n  const currentYear = parseInt(y, 10); // Ensure year is number\r\n  const nextMonthNum = monthNum === 12 ? 1 : monthNum + 1;\r\n  const nextYear = monthNum === 12 ? currentYear + 1 : currentYear;\r\n  const nextIso = `${nextYear}-${String(nextMonthNum).padStart(2, '0')}`;\r\n\r\n  // --- Advance month logic ---\r\n  const advance = () => {\r\n    // Ensure current state is available\r\n    if (!current) {\r\n        console.error(\"Cannot advance month: current slot state is missing.\");\r\n        return;\r\n    }\r\n\r\n    /* 1️⃣ generate earned ±20 % around each WTE target */\r\n    const results = {};\r\n    let total = 0;\r\n    selectedIds.forEach(id => {\r\n      const tgt = targetById[id] ?? 0;\r\n      const actual = Math.floor(tgt * (0.8 + Math.random() * 0.4));\r\n      results[id] = actual;\r\n      total += actual;\r\n    });\r\n\r\n    /* 2️⃣ persist back into this slot */\r\n    saveState({\r\n      ...current, // Spread the existing state\r\n      currentMonth:       nextIso,\r\n      monthlyEarnedByWTE: results,\r\n      currentPtsBalance:  (current.currentPtsBalance || 0) + total\r\n    });\r\n\r\n    /* 3️⃣ update local UI */\r\n    setMonthNum(nextMonthNum);\r\n    setEarnedById(results);\r\n    setHasAdvanced(true);\r\n  };\r\n\r\n  // --- Go To Dashboard Handler ---\r\n  const handleGoToDashboard = () => {\r\n      const dashboardIndex = 5; // Based on steps in App.jsx\r\n      goTo(dashboardIndex);\r\n  };\r\n\r\n  // --- Render ---\r\n  return (\r\n    <div className=\"p-6 space-y-6 max-w-md mx-auto\"> {/* Added max-width */}\r\n      <h2 className=\"text-xl font-bold\">\r\n        {/* Display year if it might change */}\r\n        Month: {monthNames[monthNum - 1]} {currentYear !== new Date().getFullYear() ? currentYear : ''}\r\n      </h2>\r\n\r\n      {/* Display targets and earned points */}\r\n      <ul className=\"space-y-2\">\r\n        {selectedIds.length > 0 ? selectedIds.map(id => {\r\n          const wte = WTEs.find(w => w.id === id) || { name: `ID ${id}` };\r\n          const tgt = targetById[id] ?? 0;\r\n          const earn = earnedById[id]; // Will be undefined before advancing\r\n\r\n          return (\r\n            <li key={id} className=\"flex justify-between text-sm\">\r\n              <span>{wte.name}</span>\r\n              {hasAdvanced\r\n                ? <span>Target {tgt} → Earned {earn} pts</span>\r\n                : <span>Target: {tgt} pts / month</span>}\r\n            </li>\r\n          );\r\n        }) : (\r\n            <li className=\"text-sm text-gray-500\">No Ways to Earn selected.</li>\r\n        )}\r\n      </ul>\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"space-y-6\">\r\n         <button\r\n           onClick={advance}\r\n           disabled={hasAdvanced} // Disable after advancing once\r\n           className=\"w-full py-3 text-black font-semibold border tracking-widest rounded-full disabled:opacity-50\"\r\n         >\r\n           Advance Month\r\n         </button>\r\n\r\n         {/* Updated onClick handler */}\r\n         <button\r\n           onClick={handleGoToDashboard}\r\n           className=\"w-full py-3 text-white bg-gray-600 font-semibold border tracking-widest rounded-full disabled:opacity-50\"\r\n         >\r\n           Go to Dashboard\r\n         </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\MonthWrapUpModal.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\OnboardingStepper.jsx","messages":[{"ruleId":"react-hooks/rules-of-hooks","severity":2,"message":"React Hook \"useState\" is called conditionally. React Hooks must be called in the exact same order in every component render. Did you accidentally call a React Hook after an early return?","line":14,"column":31,"nodeType":"Identifier","endLine":14,"endColumn":39},{"ruleId":"react-hooks/rules-of-hooks","severity":2,"message":"React Hook \"useEffect\" is called conditionally. React Hooks must be called in the exact same order in every component render. Did you accidentally call a React Hook after an early return?","line":18,"column":3,"nodeType":"Identifier","endLine":18,"endColumn":12},{"ruleId":"react-hooks/rules-of-hooks","severity":2,"message":"React Hook \"useEffect\" is called conditionally. React Hooks must be called in the exact same order in every component render. Did you accidentally call a React Hook after an early return?","line":22,"column":3,"nodeType":"Identifier","endLine":22,"endColumn":12}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useSaveSlots } from '../state/useSaveSlots';\r\nimport { WTEOnboarding } from '../onboardingConfig';\r\n\r\nexport default function OnboardingStepper({ wteId, onDone }) {\r\n  const { current, saveState } = useSaveSlots();\r\n\r\n  if (!current) return null;\r\n\r\n  const steps = WTEOnboarding[wteId] || [];\r\n  const total = steps.length;\r\n  const doneSoFar = current.setupProgressByWTE?.[wteId] || 0;\r\n\r\n  const [choice, setChoice] = useState(\r\n    steps[doneSoFar]?.kind === 'pickMany' ? [] : ''\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (doneSoFar >= total) onDone?.();\r\n  }, [doneSoFar, total, onDone]);\r\n\r\n  useEffect(() => {\r\n    const html = document.documentElement;\r\n    html.classList.add('overflow-hidden');\r\n    return () => html.classList.remove('overflow-hidden');\r\n  }, []);\r\n\r\n  if (doneSoFar >= total) return null;\r\n\r\n  const step = steps[doneSoFar];\r\n\r\n  const awardBonus = () => {\r\n    const earned = { ...(current.monthlyEarnedByWTE || {}) };\r\n    earned[wteId] = (earned[wteId] || 0) + 50;\r\n\r\n    saveState({\r\n      monthlyEarnedByWTE: earned,\r\n      currentPtsBalance: (current.currentPtsBalance || 0) + 50,\r\n    });\r\n  };\r\n\r\n  function advance() {\r\n    saveState({\r\n      setupProgressByWTE: {\r\n        ...current.setupProgressByWTE,\r\n        [wteId]: doneSoFar + 1,\r\n      },\r\n    });\r\n\r\n    const isLast = doneSoFar + 1 === total;\r\n    if (isLast) awardBonus();\r\n\r\n    setChoice(steps[doneSoFar + 1]?.kind === 'pickMany' ? [] : '');\r\n  }\r\n\r\n  const disableNext =\r\n    (step.kind === 'pickOne' && !choice) ||\r\n    (step.kind === 'survey' && !choice) ||\r\n    (step.kind === 'pickMany' && step.required && choice.length === 0);\r\n\r\n  const externalLinkSurvey =\r\n    step.kind === 'survey' &&\r\n    step.externalLinkIf &&\r\n    step.externalLinkIf.match === choice;\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 z-50 bg-black/50 flex items-center justify-center\"\r\n      onClick={(e) => {\r\n        if (e.target === e.currentTarget) onDone();\r\n      }}\r\n    >\r\n      <div className=\"bg-white max-w-md w-full mx-4 rounded-lg p-6 space-y-6 shadow-xl max-h-[90vh] overflow-y-auto\">\r\n        <h2 className=\"text-xl font-bold\">{step.title}</h2>\r\n\r\n        {step.kind === 'info' && (\r\n          <>\r\n            {step.imageSrc && (\r\n              <img\r\n                src={step.imageSrc}\r\n                alt=\"\"\r\n                className=\"w-full mb-4 object-contain\"\r\n              />\r\n            )}\r\n            <p className=\"text-sm\">{step.body}</p>\r\n          </>\r\n        )}\r\n\r\n        {step.kind === 'pickOne' && (\r\n          <div className=\"space-y-2\">\r\n            {step.choices.map((opt) => (\r\n              <label key={opt} className=\"flex items-center space-x-2\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name={`step-${wteId}-${doneSoFar}`}\r\n                  value={opt}\r\n                  checked={choice === opt}\r\n                  onChange={() => setChoice(opt)}\r\n                  className=\"accent-red-600\"\r\n                />\r\n                <span>{opt}</span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {step.kind === 'pickMany' && (\r\n          <div className=\"space-y-2\">\r\n            {step.choices.map((opt) => {\r\n              const checked = choice.includes(opt);\r\n              return (\r\n                <label key={opt} className=\"flex items-center space-x-2\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    value={opt}\r\n                    checked={checked}\r\n                    onChange={() => {\r\n                      const next = checked\r\n                        ? choice.filter((x) => x !== opt)\r\n                        : [...choice, opt];\r\n                      setChoice(next);\r\n                    }}\r\n                    className=\"accent-red-600\"\r\n                  />\r\n                  <span>{opt}</span>\r\n                </label>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n\r\n        {step.kind === 'survey' && (\r\n          <div className=\"space-y-2\">\r\n            <p className=\"text-sm mb-2\">{step.question}</p>\r\n            {step.options.map((opt) => (\r\n              <button\r\n                key={opt}\r\n                onClick={() => setChoice(opt)}\r\n                className={`block w-full text-left px-3 py-2 border rounded ${\r\n                  choice === opt\r\n                    ? 'border-red-600 bg-red-50'\r\n                    : 'border-gray-300'\r\n                }`}\r\n              >\r\n                {opt}\r\n              </button>\r\n            ))}\r\n\r\n            {externalLinkSurvey && (\r\n              <div className=\"text-right pt-2\">\r\n                <button\r\n                  onClick={() => {\r\n                    window.open(step.externalLinkIf.url, '_blank');\r\n                    advance();\r\n                    onDone();\r\n                  }}\r\n                  className=\"px-4 py-2 bg-red-600 text-white rounded inline-flex items-center gap-1\"\r\n                >\r\n                  <span>{step.externalLinkIf.label}</span>\r\n                  <span className=\"text-lg\">▶</span>\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {step.kind === 'externalLink' && (\r\n          <>\r\n            {step.imageSrc && (\r\n              <img\r\n                src={step.imageSrc}\r\n                alt=\"\"\r\n                className=\"w-full mb-4 object-contain\"\r\n              />\r\n            )}\r\n            <p className=\"text-sm\">{step.body}</p>\r\n            <div className=\"text-right\">\r\n              <button\r\n                onClick={() => {\r\n                  window.open(step.url, '_blank');\r\n                  advance();\r\n                  onDone();\r\n                }}\r\n                className=\"px-4 py-2 bg-red-600 text-white rounded inline-flex items-center gap-1\"\r\n              >\r\n                <span>{step.label}</span>\r\n                <span className=\"text-lg\">▶</span>\r\n              </button>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {!['externalLink'].includes(step.kind) && !externalLinkSurvey && (\r\n          <div className=\"text-right\">\r\n            <button\r\n              onClick={advance}\r\n              disabled={disableNext}\r\n              className=\"px-4 py-2 bg-red-600 text-white rounded disabled:opacity-50\"\r\n            >\r\n              {doneSoFar + 1 === total ? 'Finish' : 'Next'}\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\RewardCard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\StickyFooter.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\WTEList.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\components\\WTETiles.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\data.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\estimator.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\hooks\\useViewportMode.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\screens\\Dashboard.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\screens\\Intro1.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\screens\\Intro2.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\screens\\RewardsScreen.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\screens\\SlotSelect.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'currentStepIndex' is defined but never used.","line":9,"column":44,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":60,"suggestions":[{"messageId":"removeVar","data":{"varName":"currentStepIndex"},"fix":{"range":[352,370],"text":""},"desc":"Remove unused variable 'currentStepIndex'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// src/screens/SlotSelect.jsx\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { useSaveSlots } from '../state/useSaveSlots';\r\n\r\n// Slot selects are now directly accessible\r\nconst UNLOCK_FLAG = 'qff_demo_unlocked';\r\n\r\n// Changed props: accepting goTo and currentStepIndex instead of goNext\r\nexport default function SlotSelect({ goTo, currentStepIndex }) {\r\n  /* ── 1. hooks that must ALWAYS run ─────────────────────────── */\r\n  const {\r\n    slots,\r\n    activeSlotId,\r\n    createSlot,\r\n    loadSlot,\r\n    renameSlot,\r\n    deleteSlot,\r\n  } = useSaveSlots();\r\n\r\n  /* slot-editing hooks */\r\n  const [draftName, setDraftName] = useState('');\r\n  const nameInputRef = useRef(null);\r\n\r\n  /* ── 2. side-effects ───────────────────────────────────────── */\r\n  useEffect(() => {\r\n    const slot = slots.find(s => s.id === activeSlotId);\r\n    setDraftName(slot?.name || '');\r\n    if (activeSlotId) {\r\n      nameInputRef.current?.focus();\r\n    }\r\n  }, [activeSlotId, slots]);\r\n\r\n  /* ── 3. handlers ───────────────────────────────────────────── */\r\n\r\n  const commitRename = id => {\r\n    const name = draftName.trim();\r\n    if (name) renameSlot(id, name);\r\n  };\r\n\r\n  // --- Navigation Handler ---\r\n  const handleGoToNextScreen = () => {\r\n    // Ensure a slot is selected and has a name before proceeding\r\n    const currentSlot = slots.find(s => s.id === activeSlotId);\r\n    if (activeSlotId && currentSlot?.name) {\r\n      // Navigate to the next step (Intro1, index 1)\r\n      goTo(1);\r\n    } else {\r\n      alert('Please select a slot and ensure it has a name.');\r\n      // Optionally focus the name input if an active slot exists\r\n      if (activeSlotId) {\r\n        nameInputRef.current?.focus();\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  /* ── 5. (unlocked) normal Slot-select UI ───────────────────── */\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\r\n      <div className=\"bg-white p-8 rounded-[12px] shadow-sm border border-gray-100 w-full max-w-[500px] relative\">\r\n        {/* Close Button */}\r\n        <button\r\n          onClick={() => goTo(1)}\r\n          className=\"absolute top-6 right-6 p-2 text-gray-400 hover:text-gray-600 transition-colors\"\r\n          aria-label=\"Close\"\r\n        >\r\n          <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n          </svg>\r\n        </button>\r\n\r\n        <h1 className=\"text-2xl font-bold mb-4\">Settings</h1>\r\n        <p className=\"mb-6 text-gray-600\">Switch prototype save slots or Change name.</p>\r\n\r\n        {slots.map((slot, idx) => (\r\n          <div\r\n            key={slot.id}\r\n            className={`relative pl-3 mb-2 w-full rounded border overflow-hidden\r\n            ${slot.id === activeSlotId\r\n                ? 'border-red-600 bg-red-50'\r\n                : 'border-gray-300 bg-white'}`}\r\n          >\r\n            {/* slot number pill */}\r\n            <button\r\n              onClick={() => loadSlot(slot.id)}\r\n              className={`absolute inset-y-0 left-0 w-10 flex items-center justify-center\r\n              ${slot.id === activeSlotId\r\n                  ? 'bg-red-600 text-white'\r\n                  : 'bg-gray-300 text-black'}`}\r\n            >\r\n              {idx + 1}\r\n            </button>\r\n\r\n            {/* editable name / label */}\r\n            {slot.id === activeSlotId ? (\r\n              <input\r\n                ref={nameInputRef}\r\n                value={draftName}\r\n                onChange={e => setDraftName(e.target.value)}\r\n                onBlur={() => commitRename(slot.id)}\r\n                onKeyDown={e => e.key === 'Enter' && nameInputRef.current.blur()}\r\n                placeholder=\"Enter name...\" // Added placeholder\r\n                className=\"block w-full pl-12 pr-12 py-2 bg-transparent focus:outline-none\" // Adjusted padding\r\n              />\r\n            ) : (\r\n              <div\r\n                onClick={() => loadSlot(slot.id)}\r\n                className=\"pl-12 pr-12 py-2 cursor-pointer\" // Adjusted padding\r\n              >\r\n                {slot.name || `Slot ${idx + 1}`} {/* Show default name if empty */}\r\n              </div>\r\n            )}\r\n\r\n            {/* advance arrow */}\r\n            {/* Updated onClick to use the new handler */}\r\n            <button\r\n              onClick={handleGoToNextScreen}\r\n              // Disable if no slot is active or if the active slot has no name\r\n              disabled={!activeSlotId || (slot.id === activeSlotId && !draftName.trim())}\r\n              className={`absolute inset-y-0 right-0 w-10 flex items-center justify-center text-red-600 disabled:text-gray-400 disabled:cursor-not-allowed`}\r\n            >\r\n              ▶\r\n            </button>\r\n          </div>\r\n        ))}\r\n\r\n        {/* actions row */}\r\n        <div className=\"mt-4 flex space-x-4\"> {/* Added space-x */}\r\n          <button\r\n            onClick={() =>\r\n              createSlot(`Slot ${slots.length + 1}`, { /* ... initial state ... */ })\r\n            }\r\n            className=\"text-red-600 hover:underline\" // Added hover style\r\n          >\r\n            + New Slot\r\n          </button>\r\n\r\n          {activeSlotId && (\r\n            <button\r\n              onClick={() => { if (window.confirm('Are you sure you want to delete this slot?')) deleteSlot(activeSlotId); }}\r\n              className=\"text-red-600 hover:underline\" // Added hover style and confirmation\r\n            >\r\n              Delete Slot {slots.findIndex(s => s.id === activeSlotId) + 1}\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Remember to define the initial state for createSlot if it's not done in useSaveSlots\r\n// const initialSlotState = {\r\n//   firstRunCompleted: false, selectedWTEs: [], totalAnnualPts: 0,\r\n//   selectedWTU: null, selectedRewardId: null, setupProgressByWTE: {},\r\n//   monthlyTargetByWTE: {}, monthlyEarnedByWTE: {},\r\n//   currentMonth: new Date().toISOString().slice(0, 7), currentPtsBalance: 0,\r\n// };","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\screens\\WTESelection.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Japan\\OneDrive\\Documents\\Qantas\\prototype\\src\\utils\\dashboardStorage.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
